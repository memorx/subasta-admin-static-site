(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{491:function(t,e,n){"use strict";n.r(e);n(70),n(467);var o=n(66),r={props:{closeModalHandler:Function,getCities:Function},data:function(){return{isModalVisible:!1,loading:!0,title:"",content:"",image1:null,image2:null}},methods:{createNews:function(){var t=this,e=new FormData;e.append("title",this.title),e.append("content",this.content),e.append("image1",this.image1),e.append("image2",this.image2);var n=Object(o.a)(this.$cookies.get("access_token"));if(n){var r="".concat(this.$config.baseURL,"/post/");this.$axios.post(r,e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Token "+n.token}}).then((function(){t.$toast.success("Se ha creado la subasta"),t.$emit("news-created")})).catch((function(e){t.$toast.error("No se ha podido crear la noticia")}))}},onImage1Change:function(t){this.image1=t.target.files[0]},onImage2Change:function(t){this.image2=t.target.files[0]},openModal:function(){this.modalVisible=!0},closeModal:function(){this.isModalVisible=!1,this.$emit("close-modal-handler")}}},l=n(26),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"fixed inset-0 overflow-hidden z-20",staticStyle:{"background-color":"rgba(0, 0, 0, 0.3)"},attrs:{"aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"}},[e("div",{staticClass:"absolute inset-0 overflow-hidden"},[e("div",{staticClass:"absolute inset-0",attrs:{"aria-hidden":"true"}}),t._v(" "),e("div",{staticClass:"fixed inset-y-0 right-0 pl-10 max-w-full flex"},[e("div",{staticClass:"w-screen max-w-md"},[e("div",{staticClass:"h-full flex flex-col py-6 bg-white shadow-xl overflow-y-scroll"},[e("div",{staticClass:"px-4 sm:px-6"},[e("div",{staticClass:"flex items-start justify-between"},[e("h2",{staticClass:"text-lg font-medium text-gray-900",attrs:{id:"slide-over-title"}},[t._v("\n                Agregar noticia\n              ")]),t._v(" "),e("div",{staticClass:"ml-3 h-7 flex items-center"},[e("button",{staticClass:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green_2",on:{click:t.closeModal}},[e("span",{staticClass:"sr-only"},[t._v("Close panel")]),t._v(" "),e("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])])]),t._v(" "),e("div",{staticClass:"mt-6 relative flex-1 px-4 sm:px-6"},[e("form",{staticClass:"space-y-4",on:{submit:function(e){return e.preventDefault(),t.createNews.apply(null,arguments)}}},[e("div",[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"title"}},[t._v("\n                  Titulo\n                ")]),t._v(" "),e("div",{staticClass:"mt-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"shadow-sm focus:ring-green_2 focus:border-green_2 block w-full sm:text-sm border-gray-300 rounded-md",attrs:{required:"",type:"text",name:"title",id:"title",placeholder:"Ingrese un t√≠tulo"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),t._v(" "),e("div",[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"content"}},[t._v("\n                  Contenido\n                ")]),t._v(" "),e("div",{staticClass:"mt-1"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"shadow-sm focus:ring-green_2 focus:border-green_2 block w-full sm:text-sm border-gray-300 rounded-md",attrs:{required:"",name:"content",id:"content",placeholder:"Ingrese el contenido de la noticia"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})])]),t._v(" "),e("div",[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"image1"}},[t._v("\n                  Image 1\n                ")]),t._v(" "),e("div",{staticClass:"mt-1"},[e("input",{staticClass:"shadow-sm focus:ring-green_2 focus:border-green_2 block w-full sm:text-sm border-gray-300 rounded-md",attrs:{required:"",type:"file",name:"image1",id:"image1",accept:"image1/*"},on:{change:t.onImage1Change}})])]),t._v(" "),e("div",[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"image2"}},[t._v("\n                  Image 2\n                ")]),t._v(" "),e("div",{staticClass:"mt-1"},[e("input",{staticClass:"shadow-sm focus:ring-green_2 focus:border-green_2 block w-full sm:text-sm border-gray-300 rounded-md",attrs:{required:"",type:"file",name:"image2",id:"image2",accept:"image2/*"},on:{change:t.onImage2Change}})])]),t._v(" "),t._m(0)])])])])])])])}),[function(){var t=this._self._c;return t("div",[t("button",{staticClass:"disabled:opacity-100 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-black bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green_1",attrs:{type:"submit"}},[this._v("\n                  Guardar\n                ")])])}],!1,null,null,null);e.default=component.exports}}]);