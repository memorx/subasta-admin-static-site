(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{504:function(e,t,r){e.exports=function(){"use strict";function e(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)e[t]=source[t]}return e}function t(r,n){function o(t,o,c){if("undefined"!=typeof document){"number"==typeof(c=e({},n,c)).expires&&(c.expires=new Date(Date.now()+864e5*c.expires)),c.expires&&(c.expires=c.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var d in c)c[d]&&(l+="; "+d,!0!==c[d]&&(l+="="+c[d].split(";")[0]));return document.cookie=t+"="+r.write(o,t)+l}}function c(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],n={},i=0;i<t.length;i++){var o=t[i].split("="),c=o.slice(1).join("=");try{var l=decodeURIComponent(o[0]);if(n[l]=r.read(c,l),e===l)break}catch(e){}}return e?n[e]:n}}return Object.create({set:o,get:c,remove:function(t,r){o(t,"",e({},r,{expires:-1}))},withAttributes:function(r){return t(this.converter,e({},this.attributes,r))},withConverter:function(r){return t(e({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(r)}})}return t({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},520:function(e,t,r){"use strict";r.r(t);var n=r(8),o=(r(43),r(67),r(504)),c=r.n(o),l={layout:"auth",authenticated:!1,data:function(){return{login:{email:"",password:""},errorMsg:""}},methods:{userLogin:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$config.baseURL+"/staff/login-admin/",(n=new FormData).append("email",e.login.email),n.append("password",e.login.password),t.next=6,e.$axios.$post(r,n,{}).then((function(t){if(console.log(t,"HHHH"),t.token){var r=btoa(JSON.stringify({alg:"HS256",typ:"JWT"})),n={email:e.login.email,token:t.token};console.log(n,"claims");var o=btoa(JSON.stringify(n)),l=("".concat(r,".").concat(o),"not_implemented"),d=btoa(l),m="".concat(r,".").concat(o,".").concat(d);c.a.set("access_token",m),e.$router.push("/admin")}})).catch((function(t){console.log(t.response.data),400===t.response.status?e.$toast.error(t.response.data.error):401===t.response.status&&(e.$toast.error(t.response.data.error),e.$toast.error(t.response.data.message))}));case 6:case"end":return t.stop()}}),t)})))()}}},d=r(26),component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"sm:mx-auto sm:w-full sm:max-w-md mb-12"},[t("img",{staticClass:"mx-auto h-32 w-auto",attrs:{src:r(146),alt:"logo"}}),e._v(" "),t("h2",{staticClass:"mt-6 text-center text-3xl font-extrabold text-primary"},[e._v("\n      Subastas\n    ")]),e._v(" "),t("p",{staticClass:"mt-2 text-center text-xl text-gray-600"},[e._v("\n      Ingresa para continuar\n    ")])]),e._v(" "),t("form",{staticClass:"space-y-6",on:{submit:function(t){return t.preventDefault(),e.userLogin.apply(null,arguments)}}},[t("div",e._l(e.errorMsg,(function(r){return t("p",{key:r,staticClass:"text-red-600 text-sm leading-tight text-center"},[e._v("\n        "+e._s(r)+"\n      ")])})),0),e._v(" "),t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"email"}},[e._v("\n        Correo electrónico\n      ")]),e._v(" "),t("div",{staticClass:"mt-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.login.email,expression:"login.email"}],staticClass:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-secondary focus:border-secondary sm:text-sm",attrs:{id:"email",name:"email",type:"email",autocomplete:"email",required:""},domProps:{value:e.login.email},on:{focus:function(t){e.errorMsg=""},input:function(t){t.target.composing||e.$set(e.login,"email",t.target.value)}}})])]),e._v(" "),t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"password"}},[e._v("\n        Contraseña\n      ")]),e._v(" "),t("div",{staticClass:"mt-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],staticClass:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-secondary focus:border-secondary sm:text-sm",attrs:{id:"password",name:"password",type:"password",autocomplete:"current-password",required:""},domProps:{value:e.login.password},on:{focus:function(t){e.errorMsg=""},input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}})])]),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"flex items-center justify-end"},[t("div",{staticClass:"text-sm"},[t("NuxtLink",{staticClass:"font-medium text-gray-600 hover:text-gray-300",attrs:{to:"/auth/password/forgot-password"}},[e._v("\n          ¿Olvidaste tu contraseña?\n        ")])],1)])])])}),[function(){var e=this._self._c;return e("div",{staticClass:"pt-2"},[e("button",{staticClass:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm font-medium text-blue bg-gray-600 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",attrs:{type:"submit"}},[this._v("\n        Iniciar sesión\n      ")])])}],!1,null,"0be94d18",null);t.default=component.exports}}]);