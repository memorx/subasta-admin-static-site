(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{522:function(e,t,r){"use strict";r.r(t);var o=r(8),n=(r(43),r(70)),c=r.n(n),l=r(487),d=r.n(l),m={auth:!1,data:function(){return{email:"",errors:"",mailIsSended:!1,verificationCode:""}},methods:{userResetPassword:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var data,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,data={email:e.email,resend:!1},console.log(data,"DATA"),t.next=5,c.a.post(e.$config.baseURL+"/users/send-code-reset-password/",data,{headers:{"Content-Type":"application/json"}});case 5:r=t.sent,console.log(r,"RESPONSE"),e.mailIsSended=!0,console.log(r,"RESPONSE"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0,"ERROR");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},verifyCode:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,data={email:e.email,code:e.verificationCode},t.next=4,c.a.post(e.$config.baseURL+"/users/password-code-verification/",JSON.stringify(data),{headers:{"Content-Type":"application/json"}});case 4:t.sent,d.a.fire({icon:"success",title:"Codigo verificado",text:"El código fue verificado correctamente."}).then((function(){e.$router.push("/auth/password/reset-password")})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},f=r(26),component=Object(f.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},[t("div",{staticClass:"bg-purpule_1 sm:mx-auto sm:w-full sm:max-w-md h-24 py-6"}),e._v(" "),t("div",{staticClass:"sm:mx-auto sm:w-full sm:max-w-md"},[t("div",{staticClass:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},[t("img",{staticClass:"mx-auto h-32 w-auto",attrs:{src:r(146),alt:"logo"}}),e._v(" "),t("form",{directives:[{name:"show",rawName:"v-show",value:!e.mailIsSended,expression:"!mailIsSended"}],staticClass:"space-y-6",on:{submit:function(t){return t.preventDefault(),e.userResetPassword.apply(null,arguments)}}},[e._m(0),e._v(" "),t("div",[t("p",{staticClass:"text-red-600 text-sm leading-tight text-center"},[e._v("\n            "+e._s(e.errors)+"\n          ")])]),e._v(" "),t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"email"}},[e._v("\n            Correo\n          ")]),e._v(" "),t("div",{staticClass:"mt-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green_1 focus:border-green_1 sm:text-sm",attrs:{id:"email",name:"email",type:"email",autocomplete:"email",required:""},domProps:{value:e.email},on:{focus:function(t){e.errors=""},input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),e._v(" "),e._m(1),e._v(" "),t("div",[t("button",{staticClass:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm font-medium text-blue bg-gray-50 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"},[t("NuxtLink",{attrs:{to:"/auth/login"}},[e._v("Regresar a inicio de sesión")])],1)])]),e._v(" "),t("form",{directives:[{name:"show",rawName:"v-show",value:e.mailIsSended,expression:"mailIsSended"}],staticClass:"space-y-6",on:{submit:function(t){return t.preventDefault(),e.verifyCode.apply(null,arguments)}}},[t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"verification-code"}},[e._v("\n            Email\n          ")]),e._v(" "),t("div",{staticClass:"mt-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-secondary focus:border-secondary sm:text-sm",attrs:{id:"email",name:"email",type:"email",autocomplete:"email",required:""},domProps:{value:e.email},on:{focus:function(t){e.errors=""},input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),e._v(" "),t("div",[t("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"verification-code"}},[e._v("\n            Codigo de verificación\n          ")]),e._v(" "),t("div",{staticClass:"mt-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.verificationCode,expression:"verificationCode"}],staticClass:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-secondary focus:border-secondary sm:text-sm",attrs:{id:"code",name:"code",type:"text",autocomplete:"off",required:"",placeholder:"Escriba el código"},domProps:{value:e.verificationCode},on:{input:function(t){t.target.composing||(e.verificationCode=t.target.value)}}})])]),e._v(" "),e._m(2),e._v(" "),e.verificationCode?t("div",[t("center",[t("button",{staticClass:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm font-medium text-blue bg-gray-50 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",attrs:{type:"button"},on:{click:function(t){return e.$router.push("/auth/login")}}},[e._v("\n              Regresar a inicio de sesión\n            ")])])],1):e._e()])])])])}),[function(){var e=this,t=e._self._c;return t("div",[t("h2",{staticClass:"mt-6 text-center text-3xl font-extrabold text-primary"},[e._v("\n            Recuperar Contraseña\n          ")]),e._v(" "),t("br"),e._v(" "),t("p",{staticClass:"text-center text-gray-400"},[e._v("Ingresa el correo registrado en Horsebook y te enviaremos instrucciones\n            para recuperar tu contraseña.")])])},function(){var e=this._self._c;return e("div",[e("button",{staticClass:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm font-medium text-blue bg-gray-600 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",attrs:{type:"submit"}},[this._v("\n            Enviar\n          ")])])},function(){var e=this._self._c;return e("div",[e("button",{staticClass:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm font-medium text-blue bg-gray-600 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",attrs:{type:"submit"}},[this._v("\n            Verificar Código\n          ")])])}],!1,null,null,null);t.default=component.exports}}]);