(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{463:function(t,e,o){"use strict";o.r(e);o(35);var r=o(66),n={props:{closeModal:Function,getFlights:Function},data:function(){return{loading:!0,error:"",cities:[]}},mounted:function(){this.getCities()},methods:{getCities:function(){var t=this;this.$axios.get("".concat(this.$config.baseURL,"/cities/")).then((function(e){t.cities=e.data,t.loading=!1})).catch((function(t){console.log(t)}))},createFlight:function(){var t=this,e=Object(r.a)(this.$cookies.get("access_token"));if(e){var o=document.getElementById("file").files[0];if("csv"===o.name.split(".").pop()){this.error="";var n=new FormData;n.append("file",o);var l="".concat(this.$config.baseURL,"/flights/upload/");this.$axios.post(l,n,{headers:{"Content-type":"application/json",Authorization:"Token "+e.token}}).then((function(){t.getFlights(),t.$toast.success("Se ha subido el archivo")})).catch((function(e){t.$toast.error("No se pudo subir el archivo")}))}else this.error="Formato inv√°lido"}}}},l=o(26),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"fixed inset-0 overflow-hidden z-20",staticStyle:{"background-color":"rgba(0, 0, 0, 0.3)"},attrs:{"aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"}},[e("div",{staticClass:"absolute inset-0 overflow-hidden"},[e("div",{staticClass:"absolute inset-0",attrs:{"aria-hidden":"true"}}),t._v(" "),e("div",{staticClass:"fixed inset-y-0 right-0 pl-10 max-w-full flex"},[e("div",{staticClass:"w-screen max-w-md"},[e("div",{staticClass:"h-full flex flex-col py-6 bg-white shadow-xl overflow-y-scroll"},[e("div",{staticClass:"px-4 sm:px-6"},[e("div",{staticClass:"flex items-start justify-between"},[e("h2",{staticClass:"text-lg font-medium text-gray-900",attrs:{id:"slide-over-title"}},[t._v("\n                  Agregar Nuevo Vuelo\n                ")]),t._v(" "),e("div",{staticClass:"ml-3 h-7 flex items-center"},[e("button",{staticClass:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green_2",on:{click:t.closeModal}},[e("span",{staticClass:"sr-only"},[t._v("Close panel")]),t._v(" "),e("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])])]),t._v(" "),e("div",{staticClass:"mt-6 relative flex-1 px-4 sm:px-6"},[e("form",{staticClass:"space-y-4",on:{submit:function(e){return e.preventDefault(),t.createFlight.apply(null,arguments)}}},[t._m(0),t._v(" "),e("div",[e("label",{staticClass:"block text-sm text-red-500 font-medium text-gray-700",attrs:{for:"flightNumber"}},[t._v(t._s(t.error))])]),t._v(" "),t._m(1)])])])])])])])}),[function(){var t=this,e=t._self._c;return e("div",[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"flightNumber"}},[t._v("Archivo")]),t._v(" "),e("div",{staticClass:"mt-1"},[e("input",{staticClass:"shadow-sm focus:ring-green_2 focus:border-green_2 block w-full sm:text-sm border-gray-300 rounded-md",attrs:{required:"",type:"file",name:"file",id:"file",accept:".csv"}})])])},function(){var t=this._self._c;return t("div",[t("button",{staticClass:"disabled:opacity-100 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green_1",attrs:{type:"submit"}},[this._v("\n                    Subir\n                  ")])])}],!1,null,null,null);e.default=component.exports}}]);